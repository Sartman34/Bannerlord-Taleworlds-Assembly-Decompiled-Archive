using System.Collections.Generic;
using TaleWorlds.Core;
using TaleWorlds.Library;
using TaleWorlds.Localization;

namespace TaleWorlds.CampaignSystem;

public sealed class PolicyObject : PropertyObject
{
	public static MBReadOnlyList<PolicyObject> All => Campaign.Current.AllPolicies;

	public TextObject SecondaryEffects { get; private set; }

	public float AuthoritarianWeight { get; private set; }

	public float OligarchicWeight { get; private set; }

	public float EgalitarianWeight { get; private set; }

	public TextObject LogEntryDescription { get; private set; }

	internal static void AutoGeneratedStaticCollectObjectsPolicyObject(object o, List<object> collectedObjects)
	{
		((PolicyObject)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
	}

	protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
	{
		base.AutoGeneratedInstanceCollectObjects(collectedObjects);
	}

	public PolicyObject(string stringId)
		: base(stringId)
	{
	}

	public void Initialize(TextObject name, TextObject description, TextObject logEntryDescription, TextObject secondaryEffects, float authoritarianWeight, float oligarchyWeight, float egalitarianWeight)
	{
		Initialize(name, description);
		LogEntryDescription = logEntryDescription;
		SecondaryEffects = secondaryEffects;
		AuthoritarianWeight = authoritarianWeight;
		OligarchicWeight = oligarchyWeight;
		EgalitarianWeight = egalitarianWeight;
		AfterInitialized();
	}

	public override string ToString()
	{
		return base.Name.ToString();
	}
}
